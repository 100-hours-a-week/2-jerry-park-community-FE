<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/> 
    <title> 게시글 추가 </title>
    <link rel="stylesheet" href = "postupload.css">  <!--외부 css 파일 연결-->
</head>

<body>
    <div class = "header">
        <a href="gaesiglelist.html"><</a>
        <h1> 아무 말 대잔치 </h1>  <!--아무말 대잔치 레이아웃-->

        <img class="image1" src="profile_img.webp"/>
    </div>

    <div class= "headtext">
        <h1> 게시글 작성 </h1>
    </div>

    <article>
        <div class = "titleBox">
            <h1> 제목* </h1>
            <hr class="topofphoto">
            <input type="text" name="title" id="title" placeholder="제목을 입력해주세요. (최대 26글자)">
            <hr class="topofphoto">
        </div>

        <div class = "content">
            <h1> 내용* </h1>
            <hr class="topofphoto">
            <textarea type="text" name="content" id="content" placeholder="내용을 입력해주세요"></textarea>
            <hr class="topofphoto">
            <div class="helpertextbox">
                <p class="helperText">* helper text</p>
            </div>
        </div>

        <div class="inputBox">
            <label for="profile">이미지</label>
            <div class ="filech">
            <input type="file" name="image" id="image" accept="image/*"> <p>파일을 선택해주세요.</p>
            <!-- <p class="helperText" name="profile">
                *프로필 사진을 추가해주세요.
            </p> -->
            </div>
        </div>

        <div class ="comp">
            <button id= "compb" class = "inactive" onclick="uploadPost()">완료</button>
        </div>
    </article>

</body>

<script>
    // 제목, 내용 받아오기
    const titleInput = document.getElementById('title');
    const contentInput = document.getElementById('content');
    const compButton = document.getElementById('compb');

    // 입력 상태로 버튼 색상 바꾸기
    function updateButtonState() {
        if(titleInput.value.trim() !=='' && contentInput.value.trim()!==''){
            compButton.classList.add('active');
        } else {
            compButton.classList.remove('active');
        }
    }

    titleInput.addEventListener('input',updateButtonState);
    content.addEventListener('input',updateButtonState);



    function uploadPost() {
        // 제목, 내용 안 비었는지 검사
        if (titleInput.value.trim() === '' || contentInput.value.trim()===''){
            alert("*제목, 내용을 모두 작성해주세요");
            return; //함수 종료
        } else {
            window.location.href = 'gaesiglelist.html';     /*게시물작성페이지로이동*/
        }
    }
</script>