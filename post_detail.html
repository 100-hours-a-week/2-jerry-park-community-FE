<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/> 
    <title> 게시글 상세조회 </title>
    <link rel="stylesheet" href = "post_detail.css">  <!--외부 css 파일 연결-->
</head>

<body>
    <div class = "header">
        <a href="postlist.html"><</a>
        <h1> 아무 말 대잔치 </h1>  <!--아무말 대잔치 레이아웃-->
        
        <img class="image1" src="profile_img.webp"/>
    </div>

    <section class="wrap">
        <article>
            <div class = "title"> <h1> 제목 1 </h1></div>
            <div class = "userinfo">
                <img class="image2" src="profile_img.webp"/>
                <p> 더미 작성자 1 </p>
                <p1> 2021-01-01 00:00:00</p1>
                <div class ="editdel">
                    <button onclick="window.location.href='edit_post.html'">수정</button>
                    <button onclick="openModal('delete')">삭제</button>
                </div>
            </div>
            <hr class="topofphoto">
            <div class = "content">
                <img class="image3" src="profile_img.webp"/>
                <p>
                    무엇을 얘기할까요? 아무말이라면, 삶은 항상 놀라운 모험이라고 생각합니다. 우리는 매일 새로운 경험을 하고
                    배우며 성장합니다. 때로는 어려움과 도전이 있지만, 그것들이 우리를 더 강하고 지혜롭게 만듭니다.
                    또한 우리는 주변의 사람들과 연결되며 사랑과 지지를 받습니다.<br>
                    무엇을 얘기할까요? 아무말이라면, 삶은 항상 놀라운 모험이라고 생각합니다. 우리는 매일 새로운 경험을 하고
                    배우며 성장합니다. 때로는 어려움과 도전이 있지만, 그것들이 우리를 더 강하고 지혜롭게 만듭니다.
                    또한 우리는 주변의 사람들과 연결되며 사랑과 지지를 받습니다.<br>
                    무엇을 얘기할까요? 아무말이라면, 삶은 항상 놀라운 모험이라고 생각합니다. 우리는 매일 새로운 경험을 하고
                    배우며 성장합니다. 때로는 어려움과 도전이 있지만, 그것들이 우리를 더 강하고 지혜롭게 만듭니다.
                    또한 우리는 주변의 사람들과 연결되며 사랑과 지지를 받습니다.
                </p>
            </div>  
            <div class = "gaechu">
                <div class="gaechu1"> 
                    <span class="likesu">123</span> <span class="su">좋아요수</span></div>
                <div class="gaechu1"> 
                    <span class="likesu">123</span><span class="su">조회수</span></div>
                <div class="gaechu1"> 
                    <span class="likesu">123</span><span class="su">댓글</span></div>
            </div>  
            <hr class="normalhr">
            <div class = "commentBox">
                <textarea type="text" name="conmment" id="comment" placeholder="댓글을 남겨주세요!"></textarea> 
            </div>
            <hr class = "normalhr">

            <div class ="commentUp">
                <button id="commentUp" onclick="commentUp()">댓글 등록</button>
            </div>

            <div class = "allcommentBox">
                <div class = "commentInfo">
                    <div class ="comments">
                        <img class="image4" src="profile_img.webp"/>
                        <div class="author">더미 작성자 1 </div>
                        <div class="date">2021-01-01 00:00:00</div>
                        
                    </div>
                    <div class="commentcontent">
                        댓글 내용
                    </div>
                    
                </div>
                <div class = "editdelete">
                    <div class="editdelB">
                        <button onclick="" >수정</button> <!--수정기능 필요-->
                        <button onclick="openCommentDeleteModal('delete')">삭제</button>
                    </div>
                </div>
            </div>
            <div class = "allcommentBox">
                <div class = "commentInfo">
                    <div class ="comments">
                        <img class="image4" src="profile_img.webp"/>
                        <div class="author">더미 작성자 1 </div>
                        <div class="date">2021-01-01 00:00:00</div>
                        
                    </div>
                    <div class="commentcontent">
                        댓글 내용
                    </div>
                    
                </div>
                <div class = "editdelete">
                    <div class="editdelB">
                        <button onclick="openModal('edit')">수정</button>
                        <button onclick="openModal('delete')">삭제</button>
                    </div>
                </div>
            </div>
            <div class = "allcommentBox">
                <div class = "commentInfo">
                    <div class ="comments">
                        <img class="image4" src="profile_img.webp"/>
                        <div class="author">더미 작성자 1 </div>
                        <div class="date">2021-01-01 00:00:00</div>
                        
                    </div>
                    <div class="commentcontent">
                        댓글 내용
                    </div>
                    
                </div>
                <div class = "editdelete">
                    <div class="editdelB">
                        <button onclick="openModal('edit')">수정</button>
                        <button onclick="openModal('delete')">삭제</button>
                    </div>
                </div>
            </div>
            <div class = "allcommentBox">
                <div class = "commentInfo">
                    <div class ="comments">
                        <img class="image4" src="profile_img.webp"/>
                        <div class="author">더미 작성자 1 </div>
                        <div class="date">2021-01-01 00:00:00</div>
                        
                    </div>
                    <div class="commentcontent">
                        댓글 내용
                    </div>
                    
                </div>
                <div class = "editdelete">
                    <div class="editdelB">
                        <button onclick="openModal('edit')">수정</button>
                        <button onclick="openModal('delete')">삭제</button>
                    </div>
                </div>
            </div>

        </article>

        <!-- 게시물 삭제 모달 -->
        <div id="deleteModal" class="deletemodal">
            <div class="modalcontent">
                <h1>게시물을 삭제하시겠습니까?</h1>
                <p1>삭제한 내용은 복구 할 수 없습니다.</p1>
                <div class="modalbutton">
                <button class="cancleButton" onclick = "closeModal()">취소</button>
                <button class="confirmButton" onclick = "confirmDelete()">확인</button>
                </div>  
            </div>
        </div>
        
        <!-- 댓글 삭제 모달 -->
        <div id="commentDeleteModal" class="deletemodal">
            <div class="modalcontent">
                <h1>댓글을 삭제하시겠습니까?</h1>
                <p1>삭제한 내용은 복구할 수 없습니다.</p1>
                <div class="modalbutton">
                    <button class="cancleButton" onclick="closeCommentDeleteModal()">취소</button>
                    <button class="confirmButton" onclick="confirmCommentDelete()">확인</button>
                </div>  
            </div>
        </div>

    </section>
</body>

<script>
// 게시물 삭제 모달 여닫는 JS 함수임
function openModal(type) {
    if (type === 'delete') {
        document.getElementById('deleteModal').style.display = 'flex';
    }
}
function closeModal() {
    document.getElementById('deleteModal').style.display = 'none';
}
function confirmDelete() {
    // 삭제 처리 코드 (예: 서버에 삭제 요청 보내기)
    closeModal(); // 모달 닫기
    alert("삭제되었습니다.");
}

// 댓글 삭제 모달 여닫는 JS 함수
function openCommentDeleteModal() {
    document.getElementById('commentDeleteModal').style.display = 'flex';
}
function closeCommentDeleteModal() {
    document.getElementById('commentDeleteModal').style.display = 'none';
}
function confirmCommentDelete() {
    // 댓글 삭제 처리 코드 (예: 서버에 삭제 요청 보내기)
    closeCommentDeleteModal(); // 모달 닫기
    alert("댓글이 삭제되었습니다.");
}

// 댓글 입력시 댓글작성 버튼 색 바뀌는 함수
// 제목, 내용 받아오기
const commentInput = document.getElementById('comment');
const commentUpButton = document.getElementById('commentUp');

// 입력 상태로 버튼 색상 바꾸기
function updateButtonState() {
    if(commentInput.value.trim() !==''){
        commentUpButton.classList.add('active');
    } else {
        commentUpButton.classList.remove('active');
    }
}
commentInput.addEventListener('input',updateButtonState);


</script>