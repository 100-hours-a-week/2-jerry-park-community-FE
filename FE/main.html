<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8"/>
    <!--여러 기기에서 보기 쉽게 하는 태그-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/> 
    <title> 로그인 </title>
    <link rel="stylesheet" href = "main.css">  <!--외부 css 파일 연결-->
</head>

<body>
        <div class = "header">
            <h1> 아무 말 대잔치 </h1>  <!--아무말 대잔치 레이아웃-->
        </div>

        <div class = "logintext">
            <h2> 로그인 </h2>
        </div>

        <div class = "centerflex">
            
            
            <div class = "login_container">
                <form class = "inputBox" onsubmit="return submitForm()">
                    <label for="email"> 이메일 <br> </label>
                    <input type="text" id="email" name="email" placeholder=" 이메일을 입력하세요"> <br>
                
                <div class = "inputBox">
                    <label for="password">비밀번호<br></label>
                    <input type="password" id="password" name="password" placeholder=" 비밀번호를 입력하세요" value="1Q2w3e4r!"> <!--임시 비번 1234-->
                </div>
                <div class = "loginbutton">
                    
                    <button type = "submit" id="login" name="login"> 로그인 </button>
                    <a href="signup.html">회원가입</a>
                </div>
                </form>
            </div>
        </div>
</body>

<script>
    function submitForm() {
        var email = document.getElementById("email").value;
        var emailPattern = /^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/;

        var password = document.getElementById("password").value;
        var passwordPattern = /^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,20}$/;
        
        // 이메일 유효성 검사
        if(!email){
            alert("이메일을 입력해주세요.");
            return false;
        }else if(email.length<5){
            alert("이메일이 너무 짧습니다.");
            return false;
        }else if(!emailPattern.test(email)){ //test() 정규표현식 메서드 매개변수 검사
            alert("올바른 이메일 주소 형식을 입력해주세요.");

            return false;
        } 
        // 비밀번호 유효성 검사
        if (!password) {
            alert("*비밀번호를 입력해주세요");
            return false;
        } else if(!passwordPattern.test(password)){
            alert("*비밀번호는 8자 이상, 20자 이하이며, 대문자, 소문자, 숫자, 특수문자를 각각 최소 1개 포함해야 합니다.");
            return false;
        } else if(password !== "1Q2w3e4r!"){
            alert("*비밀번호가 다릅니다. (임시비번 : 1Q2w3e4r!)");
            return false;
        } else {
            window.location.href = "postlist.html"; /*유효성 만족시 페이지이동*/
            return false;
        }
    }
    
</script>